<template>
    <!-- Presents synchronized before/after imagery to reveal renovation or condition differences across properties -->
    <section class="image-compare" aria-label="Property visual comparison">
        <div class="image-compare__header slds-grid slds-grid_align-spread slds-grid_vertical-align-center">
            <h2 class="image-compare__title slds-text-heading_small">Visual Comparison</h2>
            <lightning-slider
                class="image-compare__slider"
                min="0"
                max="100"
                value={syncedPosition}
                label="Synchronize view"
                onchange={handleSliderChange}
            ></lightning-slider>
        </div>

        <template lwc:if={hasSections}>
            <lightning-layout multiple-rows class="image-compare__layout">
                <template for:each={sections} for:item="section">
                    <lightning-layout-item key={section.key} size="12" medium-device-size="6" large-device-size="4">
                        <article class="image-compare__card slds-card">
                            <header class="image-compare__card-header slds-card__header slds-grid slds-grid_vertical-align-center">
                                <span class="image-compare__card-title slds-text-title_caps">{section.label}</span>
                            </header>
                            <div class="slds-card__body">
                                <c-image-compare-slider
                                    before-src={section.before}
                                    after-src={section.after}
                                    label={section.label}
                                    position={syncedPosition}
                                    onpositionchange={handleChildPosition}
                                ></c-image-compare-slider>
                            </div>
                        </article>
                    </lightning-layout-item>
                </template>
            </lightning-layout>
        </template>
        <template lwc:else>
            <p class="slds-text-color_weak">No comparison media available.</p>
        </template>
    </section>
</template>
